<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>EndowCast — Settings</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-slate-50 text-slate-800">

  <div class="max-w-6xl mx-auto px-6 py-10">
    <!-- Page Header -->
    <header class="mb-8 text-center">
      <h1 class="text-3xl font-extrabold text-slate-900">Settings & Assumptions</h1>
      <p class="mt-2 text-sm text-slate-500 max-w-xl mx-auto">
        Define your foundation’s financial parameters and simulation timeline.
      </p>
    </header>

    <!-- Main Card -->
<main class="bg-white rounded-2xl shadow ring-1 ring-slate-100 p-6 space-y-8">

  <!-- Section: Simulation Timeline -->
  <section class="bg-slate-50 border border-slate-100 rounded-lg p-5">
    <div class="flex items-start gap-3 mb-4">
      <div class="h-10 w-1 rounded-md bg-indigo-600"></div>
      <div>
        <h2 class="text-lg font-semibold text-slate-900">Simulation Timeline</h2>
        <p class="text-xs text-slate-500 mt-1">Define the projection period and starting year</p>
      </div>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label class="text-xs font-medium text-slate-600">Number of Years</label>
        <input id="simulationYears" type="number" class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500" placeholder="e.g. 10" />
      </div>
      <div>
        <label class="text-xs font-medium text-slate-600">Starting Year</label>
        <input id="startYear" type="number" class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500" placeholder="e.g. 2025" />
      </div>
    </div>
  </section>

  <!-- Section: Financial Foundation -->
  <section class="bg-slate-50 border border-slate-100 rounded-lg p-5">
    <div class="flex items-start gap-3 mb-4">
      <div class="h-10 w-1 rounded-md bg-indigo-600"></div>
      <div>
        <h2 class="text-lg font-semibold text-slate-900">Financial Foundation</h2>
        <p class="text-xs text-slate-500 mt-1">Core endowment financial parameters</p>
      </div>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6">
      <div>
        <label class="text-xs font-medium text-slate-600">Initial Endowment Value ($)</label>
        <input type="number" class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500" placeholder="e.g. 50000000" />
      </div>
      <div>
        <label class="text-xs font-medium text-slate-600">Spending Policy Rate (%)</label>
        <input type="number" step="0.01" class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500" placeholder="e.g. 4.5" />
      </div>
      <div>
        <label class="text-xs font-medium text-slate-600">Investment Expense Rate (%)</label>
        <input type="number" step="0.01" class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500" placeholder="e.g. 1.0" />
      </div>
    </div>
  </section>

  <!-- Section: Operating Commitments & Grants -->
  <section class="bg-slate-50 border border-slate-100 rounded-lg p-5">
    <div class="flex items-start gap-3 mb-4">
      <div class="h-10 w-1 rounded-md bg-indigo-600"></div>
      <div>
        <h2 class="text-lg font-semibold text-slate-900">Operating Commitments & Grants</h2>
        <p class="text-xs text-slate-500 mt-1">Annual expenses and mission-driven distributions</p>
      </div>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 gap-6 mb-6">
      <div>
        <label class="text-xs font-medium text-slate-600">Initial Operating Expense ($)</label>
        <input type="number" class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500" placeholder="e.g. 1000000" />
      </div>
      <div>
        <label class="text-xs font-medium text-slate-600">Initial Grant Amount ($)</label>
        <input type="number" class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500" placeholder="e.g. 1500000" />
      </div>
    </div>

    <!-- Manual Grant Override -->
    <div class="flex items-center justify-between mb-4">
      <div>
        <label class="text-xs font-medium text-slate-600 block">Manual Grant Override</label>
        <p class="text-xs text-slate-500">Enable custom grant values per year</p>
      </div>
      <button id="overrideSwitch" role="switch" aria-checked="false"
        class="relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-indigo-400 bg-slate-300">
        <span class="sr-only">Enable manual override</span>
        <span class="toggle-dot absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow transform transition-transform"></span>
      </button>
    </div>

    <div id="grantOverrides" class="grid grid-cols-1 sm:grid-cols-3 gap-4 opacity-60 pointer-events-none"></div>
  </section>

  <!-- CTA -->
  <div class="flex justify-end pt-4 border-t">
    <button class="bg-indigo-600 text-white px-6 py-2 rounded-lg shadow hover:bg-indigo-700 transition">
      Next: Portfolio Allocation →
    </button>
  </div>
</main>
  </div>

  <!-- Toggle Script -->
  <script>
    const switchBtn = document.getElementById('overrideSwitch');
    const grantOverrides = document.getElementById('grantOverrides');
    const toggleDot = switchBtn.querySelector('.toggle-dot');
    const simulationYearsInput = document.getElementById('simulationYears');
    const startYearInput = document.getElementById('startYear');

    let isOn = false;

    function setSwitch(on) {
      isOn = !!on;
      if (isOn) {
        switchBtn.classList.add('bg-indigo-600');
        switchBtn.setAttribute('aria-checked', 'true');
        toggleDot.style.transform = 'translateX(20px)';
        grantOverrides.classList.remove('opacity-60', 'pointer-events-none');
        renderGrantInputs();
      } else {
        switchBtn.classList.remove('bg-indigo-600');
        switchBtn.setAttribute('aria-checked', 'false');
        toggleDot.style.transform = 'translateX(0)';
        grantOverrides.classList.add('opacity-60', 'pointer-events-none');
        grantOverrides.innerHTML = '';
      }
    }

    function renderGrantInputs() {
      const startYear = parseInt(startYearInput.value, 10) || new Date().getFullYear();
      const years = parseInt(simulationYearsInput.value, 10) || 0;

      grantOverrides.innerHTML = '';

      for (let i = 0; i < years; i++) {
        const year = startYear + i;
        const wrapper = document.createElement('div');
        wrapper.innerHTML = `
          <label class="text-xs font-medium text-slate-600">Grant for ${year}</label>
          <input type="number" class="mt-1 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm bg-white" placeholder="$" />
        `;
        grantOverrides.appendChild(wrapper);
      }
    }

    // Initial state
    setSwitch(false);

    switchBtn.addEventListener('click', () => setSwitch(!isOn));
    simulationYearsInput.addEventListener('input', () => {
      if (isOn) renderGrantInputs();
    });
    startYearInput.addEventListener('input', () => {
      if (isOn) renderGrantInputs();
    });
  </script>
</body>
</html>